import{c as y,d as $,r as f,s as D,a as I,b as l,e as n,f as s,t as o,w as A,F as k,h as M,v as F,i as h,x as P,j as C,M as V,B as T,k as z,m as L,n as U,o as j,p as a,q}from"./index-Dm16LXqW.js";import{C as H,a as O}from"./CustomSortDeal-DbWAyahp.js";import{I as S}from"./ImageIcon-Be1BFlSo.js";import{E as N}from"./EditDealIcon-BRfFTM3W.js";import{E as G}from"./EditCustomerModal-Dz57vQfo.js";import"./cloneDeep-DIZNXq_f.js";function J(g,i){return{sortedCustomers:y(()=>{const d=i.value;return[...g].sort((c,p)=>{const r=c[d],_=p[d];let m=0;return typeof r=="number"&&typeof _=="number"?m=r-_:m=String(r).localeCompare(String(_)),m})})}}const K={key:0,class:"customers"},Q={class:"customers__head"},R={class:"customers__count"},W={class:"customers__sort-container"},X={key:0,class:"customers__list"},Y={class:"customers__item"},Z={class:"customers__link link-item"},ss={class:"customers__item-image"},es=["src"],ts={class:"customers__name"},os={class:"customers__name"},as={class:"customers__name"},ls={class:"customers__name"},ns=["onClick"],is={key:1,class:"customers__list"},rs={class:"customers__item"},ms={class:"customers__link link-item"},ds={class:"customers__item-image"},_s=["src"],us={class:"customers__name"},cs={class:"customers__name"},ps={class:"customers__name"},vs={class:"customers__name"},Cs=["onClick"],fs={key:1,class:"customers-no"},ks=$({__name:"CustomersView",setup(g){const i=f(null),u=f(!1),d=D(),c=I(),p=y(()=>d.customers.length),r=f("name"),_=[{label:"Name",value:"name"},{label:"Email",value:"email"},{label:"Phone",value:"phone"}],{sortedCustomers:m}=J(d.customers,r),B=y(()=>m.value.slice(0,7)),E=v=>{c.openModal(V.EditModal),i.value=v},w=v=>{d.updateCustomer(v),i.value=null,c.closeModal()};return(v,e)=>{const b=z("router-link");return a(),l(k,null,[p.value>0?(a(),l("div",K,[s("div",Q,[s("p",R,"Total: "+o(p.value)+" customers",1),s("div",W,[n(H,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),options:_},null,8,["modelValue"]),n(O)])]),u.value===!1?(a(),l("ul",X,[s("li",Y,[s("div",Z,[s("div",ss,[n(S)]),e[3]||(e[3]=s("p",{class:"customers__head-item"},"Name",-1))]),e[4]||(e[4]=s("p",{class:"customers__head-item mail-item"},"Email",-1)),e[5]||(e[5]=s("p",{class:"customers__head-item phone-item"},"Phone",-1)),e[6]||(e[6]=s("p",{class:"customers__head-item adress-item"},"Address",-1)),e[7]||(e[7]=s("p",{class:"customers__head-item edit-item"},"Edit",-1))]),(a(!0),l(k,null,M(B.value,t=>(a(),l("li",{class:"customers__item",key:t.cid},[n(b,{to:`/customer/${t.cid}`,class:"customers__link"},{default:C(()=>[s("img",{src:t.avatar,alt:"avatar",class:"item__image"},null,8,es),s("p",ts,o(t.name)+" "+o(t.secondname),1)]),_:2},1032,["to"]),s("p",os,o(t.email),1),s("p",as,o(t.phone),1),s("p",ls,o(t.address?.street)+", "+o(t.address?.city)+", "+o(t.address?.state)+" "+o(t.address?.zipCode),1),s("button",{class:"customers__btn",onClick:x=>E(t)},[n(N)],8,ns)]))),128)),A(s("button",{class:"customers__load",onClick:e[1]||(e[1]=t=>u.value=!u.value)},"Load More",512),[[F,h(m).length>=7]])])):(a(),l("ul",is,[s("li",rs,[s("div",ms,[s("div",ds,[n(S)]),e[8]||(e[8]=s("p",{class:"customers__head-item"},"Name",-1))]),e[9]||(e[9]=s("p",{class:"customers__head-item mail-item"},"Email",-1)),e[10]||(e[10]=s("p",{class:"customers__head-item phone-item"},"Phone",-1)),e[11]||(e[11]=s("p",{class:"customers__head-item adress-item"},"Address",-1)),e[12]||(e[12]=s("p",{class:"customers__head-item edit-item"},"Edit",-1))]),(a(!0),l(k,null,M(h(m),t=>(a(),l("li",{class:"customers__item scroll-item",key:t.cid},[n(b,{to:`/customer/${t.cid}`,class:"customers__link"},{default:C(()=>[s("img",{src:t.avatar,alt:"avatar",class:"item__image"},null,8,_s),s("p",us,o(t.name)+" "+o(t.secondname),1)]),_:2},1032,["to"]),s("p",cs,o(t.email),1),s("p",ps,o(t.phone),1),s("p",vs,o(t.address?.street)+", "+o(t.address?.city)+", "+o(t.address?.state)+" "+o(t.address?.zipCode),1),s("button",{class:"customers__btn",onClick:x=>E(t)},[n(N)],8,Cs)]))),128))]))])):(a(),l("div",fs,e[13]||(e[13]=[s("img",{src:P,alt:"no-customers",class:"customers-no__img"},null,-1),s("p",{class:"customers-no__descr"},"No customers found.",-1)]))),n(T,{type:h(V).EditModal},{title:C(()=>e[14]||(e[14]=[j("Edit Customer")])),default:C(()=>[i.value?(a(),L(G,{key:0,customer:i.value,"onUpdate:customer":w,onClose:e[2]||(e[2]=t=>i.value=null)},null,8,["customer"])):U("",!0)]),_:1},8,["type"])],64)}}}),Vs=q(ks,[["__scopeId","data-v-3e5f0d5f"]]);export{Vs as default};

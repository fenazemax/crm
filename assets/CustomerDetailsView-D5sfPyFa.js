import{q as w,b as u,f as e,p as d,d as B,s as $,a as S,c as H,r as I,n as v,e as _,i as l,w as n,C as r,F as x,h as R,_ as Z,j as m,M as f,B as D,t as p,l as F,k as T,m as k,o as b,D as j}from"./index-Dfbpmmlt.js";import{D as z}from"./DeleteIcon-CdHPG2ia.js";import{C as q}from"./ConfirmDeleteModal-BmwtiQ6_.js";import{E as A}from"./EditCustomerModal-4VteS0T3.js";import"./cloneDeep-DIZNXq_f.js";const P={},G={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function J(g,c){return d(),u("svg",G,c[0]||(c[0]=[e("rect",{width:"32",height:"32",rx:"16"},null,-1),e("path",{d:"M10.6167 22.2666C10.1083 22.2666 9.63333 22.0916 9.29167 21.7666C8.85833 21.3583 8.65 20.7416 8.725 20.075L9.03333 17.375C9.09167 16.8666 9.4 16.1916 9.75833 15.825L16.6 8.58329C18.3083 6.77496 20.0917 6.72496 21.9 8.43329C23.7083 10.1416 23.7583 11.925 22.05 13.7333L15.2083 20.975C14.8583 21.35 14.2083 21.7 13.7 21.7833L11.0167 22.2416C10.875 22.25 10.75 22.2666 10.6167 22.2666ZM19.275 8.42496C18.6333 8.42496 18.075 8.82496 17.5083 9.42496L10.6667 16.675C10.5 16.85 10.3083 17.2666 10.275 17.5083L9.96667 20.2083C9.93333 20.4833 10 20.7083 10.15 20.85C10.3 20.9916 10.525 21.0416 10.8 21L13.4833 20.5416C13.725 20.5 14.125 20.2833 14.2917 20.1083L21.1333 12.8666C22.1667 11.7666 22.5417 10.75 21.0333 9.33329C20.3667 8.69163 19.7917 8.42496 19.275 8.42496Z",fill:"white"},null,-1),e("path",{d:"M20.45 15.125C20.4333 15.125 20.4083 15.125 20.3917 15.125C17.7917 14.8666 15.7 12.8916 15.3 10.3083C15.25 9.96663 15.4833 9.64996 15.825 9.59163C16.1667 9.54163 16.4833 9.77496 16.5417 10.1166C16.8583 12.1333 18.4917 13.6833 20.525 13.8833C20.8667 13.9166 21.1167 14.225 21.0833 14.5666C21.0417 14.8833 20.7667 15.125 20.45 15.125Z",fill:"white"},null,-1),e("path",{d:"M23.5 24.9583H8.5C8.15833 24.9583 7.875 24.675 7.875 24.3333C7.875 23.9916 8.15833 23.7083 8.5 23.7083H23.5C23.8417 23.7083 24.125 23.9916 24.125 24.3333C24.125 24.675 23.8417 24.9583 23.5 24.9583Z",fill:"white"},null,-1)]))}const K=w(P,[["render",J],["__scopeId","data-v-bc6a5342"]]),O={key:0,class:"details"},Q={class:"details__left"},W={class:"details__img-container"},X=["src"],Y={class:"details__list"},tt={class:"details__item"},et={class:"details__item"},st={class:"details__item"},lt={class:"details__item"},ot={class:"details__item lg__item"},it={class:"details__input-container"},dt={key:0,class:"details__right"},at={class:"details__info"},nt={class:"details__list"},rt=["src"],ut={class:"item__container"},_t={class:"item__title"},mt={class:"item__info"},pt={class:"item__text"},ct={class:"item__text"},Ct={key:0,class:"details__deals"},vt={key:1,class:"details__no"},ft=B({__name:"CustomerDetailsView",props:{cid:{}},setup(g){const c=g,y=$(),C=S(),V=j(),o=y.customers.find(i=>i.cid===Number(c.cid)),M=H(()=>o?.deals?.slice(0,3)),a=I(null),L=i=>{C.openModal(f.DeleteDeal),a.value=i},E=i=>{C.openModal(f.EditModal),a.value=i},U=i=>{try{y.deleteCustomer(i),a.value=null,C.closeModal(),V.push("/customers")}catch(t){console.error("Error deleting customer:",t)}},N=i=>{y.updateCustomer(i),a.value=null,C.closeModal()};return(i,t)=>{const h=T("RouterLink");return d(),u(x,null,[l(o)?(d(),u("div",O,[e("div",Q,[e("div",W,[e("img",{src:l(o).avatar,alt:"customer",class:"details__img"},null,8,X),e("button",{class:"details__edit",onClick:t[0]||(t[0]=s=>E(l(o)))},[_(K)]),e("button",{class:"details__delete",onClick:t[1]||(t[1]=s=>L(l(o)))},[_(z)])]),e("ul",Y,[e("li",tt,[t[11]||(t[11]=e("p",{class:"details__title"},"First Name",-1)),n(e("input",{type:"text",class:"details__input","onUpdate:modelValue":t[2]||(t[2]=s=>l(o).name=s),disabled:""},null,512),[[r,l(o).name]])]),e("li",et,[t[12]||(t[12]=e("p",{class:"details__title"},"Last Name",-1)),n(e("input",{type:"text",class:"details__input","onUpdate:modelValue":t[3]||(t[3]=s=>l(o).secondname=s),disabled:""},null,512),[[r,l(o).secondname]])]),e("li",st,[t[13]||(t[13]=e("p",{class:"details__title"},"Email",-1)),n(e("input",{type:"text",class:"details__input","onUpdate:modelValue":t[4]||(t[4]=s=>l(o).email=s),disabled:""},null,512),[[r,l(o).email]])]),e("li",lt,[t[14]||(t[14]=e("p",{class:"details__title"},"Phone",-1)),n(e("input",{type:"text",class:"details__input","onUpdate:modelValue":t[5]||(t[5]=s=>l(o).phone=s),disabled:""},null,512),[[r,l(o).phone]])]),e("li",ot,[t[15]||(t[15]=e("p",{class:"details__title"},"Address",-1)),n(e("input",{type:"text",class:"details__input","onUpdate:modelValue":t[6]||(t[6]=s=>l(o).address.street=s),disabled:""},null,512),[[r,l(o).address.street]]),e("div",it,[n(e("input",{type:"text",class:"details__input city-input","onUpdate:modelValue":t[7]||(t[7]=s=>l(o).address.city=s),disabled:""},null,512),[[r,l(o).address.city]]),n(e("input",{type:"text",class:"details__input state-input","onUpdate:modelValue":t[8]||(t[8]=s=>l(o).address.state=s),disabled:""},null,512),[[r,l(o).address.state]]),n(e("input",{type:"number",class:"details__input code-input","onUpdate:modelValue":t[9]||(t[9]=s=>l(o).address.zipCode=s),disabled:""},null,512),[[r,l(o).address.zipCode]])])])])]),M.value?(d(),u("div",dt,[e("div",at,[t[16]||(t[16]=e("p",{class:"details__title"},"Recent Deals",-1)),e("ul",nt,[(d(!0),u(x,null,R(M.value,s=>(d(),u("li",{class:"details__item",key:s.id},[_(h,{to:`/deal/${s.id}`,class:"item__link"},{default:m(()=>[e("img",{src:s.image,alt:"deal",class:"item__image"},null,8,rt),e("div",ut,[e("h5",_t,p(s.address.street)+", "+p(s.address.city)+" "+p(s.address.state),1),e("div",mt,[e("p",pt,p(l(F)(s.date).format("MMM DD, HH:MM")),1),e("p",ct,"$ "+p(s.price),1)])])]),_:2},1032,["to"])]))),128))]),M.value.length>3?(d(),u("button",Ct,"Load More")):v("",!0)])])):(d(),u("div",vt,t[17]||(t[17]=[e("img",{src:Z,alt:"no-deals",class:"deals__no-img"},null,-1),e("p",{class:"deals__no-descr"},"No deals.found",-1)])))])):v("",!0),_(D,{type:l(f).EditModal},{title:m(()=>t[18]||(t[18]=[b("Edit Customer")])),default:m(()=>[a.value?(d(),k(A,{key:0,customer:a.value,"onUpdate:customer":N,onClose:t[10]||(t[10]=s=>a.value=null)},null,8,["customer"])):v("",!0)]),_:1},8,["type"]),_(D,{type:l(f).DeleteDeal},{title:m(()=>t[19]||(t[19]=[b("Delete Customer")])),default:m(()=>[a.value?(d(),k(q,{key:0,id:a.value.cid,onConfirm:U},null,8,["id"])):v("",!0)]),_:1},8,["type"])],64)}}}),kt=w(ft,[["__scopeId","data-v-1c226e39"]]);export{kt as default};

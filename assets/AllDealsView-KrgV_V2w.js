import{c as k,d as w,r as g,u as x,a as H,b as d,e as _,f as s,t,w as I,g as M,F as b,h as S,v as T,i as m,_ as L,j as h,M as V,B as F,k as P,l as E,m as j,n as z,o as R,p as o,q as U}from"./index-Dm16LXqW.js";import{C as q,a as O}from"./CustomSortDeal-DbWAyahp.js";import{E as A}from"./EditDealIcon-BRfFTM3W.js";import{I as N}from"./ImageIcon-Be1BFlSo.js";import{E as G}from"./EditDealModal-B2GQEADS.js";import"./cloneDeep-DIZNXq_f.js";function J(y,f){return{sortedDeals:k(()=>{const r=f.value;return[...y].sort((c,u)=>{const n=c[r],l=u[r];let i=0;return typeof n=="number"&&typeof l=="number"?i=n-l:n instanceof Date&&l instanceof Date?i=n.getTime()-l.getTime():i=String(n).localeCompare(String(l)),i})})}}const K={key:0,class:"deals"},Q={class:"deals__head"},W={class:"deals__count"},X={class:"deals__sort-container"},Z={key:0,class:"deals__list"},ee={class:"deals__item"},se={class:"deals__link"},ae={class:"deals__item-image"},te=["src"],le={class:"deals__name"},oe={class:"deals__name area"},de={class:"deals__name"},_e={class:"deals__name"},ne={class:"deals__name-progress"},ie=["onClick"],re={key:1,class:"deals__list"},ce={class:"deals__item"},me={class:"deals__link"},pe={class:"deals__item-image"},ue=["src"],ve={class:"deals__name"},he={class:"deals__name area"},fe={class:"deals__name"},De={class:"deals__name"},ge={class:"deals__name-progress"},be=["onClick"],ke={key:1,class:"deals-no"},ye=w({__name:"AllDealsView",setup(y){const f=[{label:"Date Created",value:"date"},{label:"Status progress",value:"progress"},{label:"Price",value:"price"},{label:"Area",value:"area"}],p=g("date"),r=g(!1),c=x(),u=H(),n=k(()=>c.deals.length),l=g(null),i=v=>{u.openModal(V.EditModal),l.value=v},Y=v=>{c.updateDeal(v),l.value=null,u.closeModal()},{sortedDeals:D}=J(c.deals,p),$=k(()=>D.value.slice(0,7));return(v,a)=>{const C=P("RouterLink");return o(),d(b,null,[n.value>0?(o(),d("div",K,[s("div",Q,[s("p",W,"Total: "+t(n.value)+" deals",1),s("div",X,[_(q,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),options:f},null,8,["modelValue"]),_(O)])]),r.value===!1?(o(),d("ul",Z,[s("li",ee,[s("div",se,[s("div",ae,[_(N)]),a[3]||(a[3]=s("p",{class:"deals__head-item name__item"},"Name",-1))]),a[4]||(a[4]=M('<p class="deals__head-item deals__name-area" data-v-e9a3bd90>Area</p><p class="deals__head-item" data-v-e9a3bd90>Appointment Date</p><p class="deals__head-item" data-v-e9a3bd90>Price</p><p class="deals__head-item" data-v-e9a3bd90>Status</p><p class="deals__head-item" data-v-e9a3bd90>Edit</p>',5))]),(o(!0),d(b,null,S($.value,e=>(o(),d("li",{class:"deals__item",key:e.id},[_(C,{to:`/deal/${e.id}`,class:"deals__link"},{default:h(()=>[s("img",{src:e.image,alt:"",class:"item__image"},null,8,te),s("p",le,t(e.address.street)+", "+t(e.address.city)+", "+t(e.address.state)+" "+t(e.address.zipCode),1)]),_:2},1032,["to"]),s("p",oe,t(e.area)+" m2",1),s("p",de,t(m(E)(e.date).format("MMM DD, YYYY HH:mm")),1),s("p",_e,t(e.price)+" $",1),s("p",ne,t(e.progress),1),s("button",{class:"deals__btn",onClick:B=>i(e)},[_(A)],8,ie)]))),128)),I(s("button",{class:"deals__load",onClick:a[1]||(a[1]=e=>r.value=!r.value)},"Load More",512),[[T,m(D).length>=7]])])):(o(),d("ul",re,[s("li",ce,[s("div",me,[s("div",pe,[_(N)]),a[5]||(a[5]=s("p",{class:"deals__head-item name__item"},"Name",-1))]),a[6]||(a[6]=M('<p class="deals__head-item deals__name-area" data-v-e9a3bd90>Area</p><p class="deals__head-item" data-v-e9a3bd90>Appointment Date</p><p class="deals__head-item" data-v-e9a3bd90>Price</p><p class="deals__head-item" data-v-e9a3bd90>Status</p><p class="deals__head-item" data-v-e9a3bd90>Edit</p>',5))]),(o(!0),d(b,null,S(m(D),e=>(o(),d("li",{class:"deals__item scroll-item",key:e.id},[_(C,{to:`/deal/${e.id}`,class:"deals__link"},{default:h(()=>[s("img",{src:e.image,alt:"",class:"item__image"},null,8,ue),s("p",ve,t(e.address.street)+", "+t(e.address.city)+", "+t(e.address.state)+" "+t(e.address.zipCode),1)]),_:2},1032,["to"]),s("p",he,t(e.area)+" m2",1),s("p",fe,t(m(E)(e.date).format("MMM DD, YYYY HH:mm")),1),s("p",De,t(e.price)+" $",1),s("p",ge,t(e.progress),1),s("button",{class:"deals__btn",onClick:B=>i(e)},[_(A)],8,be)]))),128))]))])):(o(),d("div",ke,a[7]||(a[7]=[s("img",{src:L,alt:"no-deals",class:"deals-no__img"},null,-1),s("p",{class:"deals-no__descr"},"No deals found.",-1)]))),_(F,{type:m(V).EditModal},{title:h(()=>a[8]||(a[8]=[R("Edit Deal")])),default:h(()=>[l.value?(o(),j(G,{key:0,deal:l.value,"onUpdate:deal":Y,onClose:a[2]||(a[2]=e=>l.value=null)},null,8,["deal"])):z("",!0)]),_:1},8,["type"])],64)}}}),Ne=U(ye,[["__scopeId","data-v-e9a3bd90"]]);export{Ne as default};

import{c as N,d as w,r as g,u as x,a as I,b as d,e as n,f as s,t,w as T,g as M,F as k,h as S,i as m,v as H,_ as L,j as h,M as V,B as F,k as P,l as E,m as U,n as j,o as z,p as o,q as R}from"./index-DO8zi17O.js";import{C as q,a as O}from"./CustomSortDeal-S1UZKTSO.js";import{E as A}from"./EditDealIcon-mbGFSFUq.js";import{I as B}from"./ImageIcon-Ck8irXq7.js";import{E as G}from"./EditDealModal-CawITLiM.js";import"./cloneDeep-DIZNXq_f.js";function J(y,D,u){return{filteredSortedDeals:N(()=>{const r=D.value,_=u.value;return[...y].filter(c=>!_||_==="all"?!0:c.progress===_).sort((c,v)=>{const l=c[r],i=v[r];return typeof l=="number"&&typeof i=="number"?l-i:l instanceof Date&&i instanceof Date?l.getTime()-i.getTime():String(l).localeCompare(String(i))})})}}const K={key:0,class:"deals"},Q={class:"deals__head"},W={class:"deals__count"},X={class:"deals__sort-container"},Z={key:0,class:"deals__list"},ee={class:"deals__item"},se={class:"deals__link"},ae={class:"deals__item-image"},te=["src"],le={class:"deals__name"},oe={class:"deals__name area"},de={class:"deals__name"},ne={class:"deals__name"},ie={class:"deals__name-progress"},_e=["onClick"],re={key:1,class:"deals__list"},ce={class:"deals__item"},me={class:"deals__link"},ue={class:"deals__item-image"},pe=["src"],ve={class:"deals__name"},fe={class:"deals__name area"},ge={class:"deals__name"},he={class:"deals__name"},De={class:"deals__name-progress"},be=["onClick"],ke={key:1,class:"deals-no"},ye=w({__name:"AllDealsView",setup(y){const D=[{label:"Date Created",value:"date"},{label:"Status progress",value:"progress"},{label:"Price",value:"price"},{label:"Area",value:"area"}],u=g("date"),p=g("all"),r=g(!1),_=x(),c=I(),v=N(()=>_.deals.length),l=g(null),i=f=>{c.openModal(V.EditModal),l.value=f},Y=f=>{_.updateDeal(f),l.value=null,c.closeModal()},{filteredSortedDeals:b}=J(_.deals,u,p);return(f,a)=>{const C=P("RouterLink");return o(),d(k,null,[v.value>0?(o(),d("div",K,[s("div",Q,[s("p",W,"Total: "+t(v.value)+" deals",1),s("div",X,[n(q,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),options:D},null,8,["modelValue"]),n(O,{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=e=>p.value=e)},null,8,["modelValue"])])]),r.value===!1?(o(),d("ul",Z,[s("li",ee,[s("div",se,[s("div",ae,[n(B)]),a[4]||(a[4]=s("p",{class:"deals__head-item name__item"},"Name",-1))]),a[5]||(a[5]=M('<p class="deals__head-item deals__name-area" data-v-acf2e0bc>Area</p><p class="deals__head-item" data-v-acf2e0bc>Appointment Date</p><p class="deals__head-item" data-v-acf2e0bc>Price</p><p class="deals__head-item" data-v-acf2e0bc>Status</p><p class="deals__head-item" data-v-acf2e0bc>Edit</p>',5))]),(o(!0),d(k,null,S(m(b),e=>(o(),d("li",{class:"deals__item",key:e.id},[n(C,{to:`/deal/${e.id}`,class:"deals__link"},{default:h(()=>[s("img",{src:e.image,alt:"",class:"item__image"},null,8,te),s("p",le,t(e.address.street)+", "+t(e.address.city)+", "+t(e.address.state)+" "+t(e.address.zipCode),1)]),_:2},1032,["to"]),s("p",oe,t(e.area)+" m2",1),s("p",de,t(m(E)(e.date).format("MMM DD, YYYY HH:mm")),1),s("p",ne,t(e.price)+" $",1),s("p",ie,t(e.progress),1),s("button",{class:"deals__btn",onClick:$=>i(e)},[n(A)],8,_e)]))),128)),T(s("button",{class:"deals__load",onClick:a[2]||(a[2]=e=>r.value=!r.value)},"Load More",512),[[H,m(b).length>=7]])])):(o(),d("ul",re,[s("li",ce,[s("div",me,[s("div",ue,[n(B)]),a[6]||(a[6]=s("p",{class:"deals__head-item name__item"},"Name",-1))]),a[7]||(a[7]=M('<p class="deals__head-item deals__name-area" data-v-acf2e0bc>Area</p><p class="deals__head-item" data-v-acf2e0bc>Appointment Date</p><p class="deals__head-item" data-v-acf2e0bc>Price</p><p class="deals__head-item" data-v-acf2e0bc>Status</p><p class="deals__head-item" data-v-acf2e0bc>Edit</p>',5))]),(o(!0),d(k,null,S(m(b),e=>(o(),d("li",{class:"deals__item scroll-item",key:e.id},[n(C,{to:`/deal/${e.id}`,class:"deals__link"},{default:h(()=>[s("img",{src:e.image,alt:"",class:"item__image"},null,8,pe),s("p",ve,t(e.address.street)+", "+t(e.address.city)+", "+t(e.address.state)+" "+t(e.address.zipCode),1)]),_:2},1032,["to"]),s("p",fe,t(e.area)+" m2",1),s("p",ge,t(m(E)(e.date).format("MMM DD, YYYY HH:mm")),1),s("p",he,t(e.price)+" $",1),s("p",De,t(e.progress),1),s("button",{class:"deals__btn",onClick:$=>i(e)},[n(A)],8,be)]))),128))]))])):(o(),d("div",ke,a[8]||(a[8]=[s("img",{src:L,alt:"no-deals",class:"deals-no__img"},null,-1),s("p",{class:"deals-no__descr"},"No deals found.",-1)]))),n(F,{type:m(V).EditModal},{title:h(()=>a[9]||(a[9]=[z("Edit Deal")])),default:h(()=>[l.value?(o(),U(G,{key:0,deal:l.value,"onUpdate:deal":Y,onClose:a[3]||(a[3]=e=>l.value=null)},null,8,["deal"])):j("",!0)]),_:1},8,["type"])],64)}}}),Be=R(ye,[["__scopeId","data-v-acf2e0bc"]]);export{Be as default};

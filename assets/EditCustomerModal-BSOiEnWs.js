import{d as E,a as N,r as _,c as v,R as k,b as d,f as s,e as S,n as u,P as M,w as t,C as o,t as P,i as c,p as n,q as D}from"./index-D3FcfwG7.js";import{c as w}from"./cloneDeep-DIZNXq_f.js";const B={class:"modal__main"},I={class:"modal__avatar"},R=["src"],h={class:"modal__customer"},q={class:"modal__name"},z={class:"modal__lastname"},A={class:"modal__mail"},F={key:0,class:"input__error"},T={class:"modal__phone"},W={key:0,class:"input__error"},L={class:"modal__address"},Z={class:"modal__address-other"},$={class:"modal__btnWrapper"},j=E({__name:"EditCustomerModal",props:{customer:{}},emits:["update:customer","close"],setup(f,{emit:y}){const V=f,r=y,i=N(),a=_(w(V.customer)),C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,m=_(!1),b=v(()=>k(a.value.phone,"US")?.isValid()??!1),p=v(()=>m.value?a.value.email?C.test(a.value.email)?"":"Invalid email format":"Email is required":""),U=()=>{m.value=!0},x=()=>{r("update:customer",a.value),r("close")};return(g,e)=>(n(),d("div",B,[s("div",I,[e[10]||(e[10]=s("p",{class:"file__descr"},"Room Images",-1)),S(M,{modelValue:a.value.avatar,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.avatar=l)},null,8,["modelValue"]),a.value.avatar?(n(),d("img",{key:0,src:a.value.avatar,alt:"Preview",class:"modal__preview"},null,8,R)):u("",!0)]),s("div",h,[s("div",q,[e[11]||(e[11]=s("p",{class:"modal__title"},"First Name",-1)),t(s("input",{type:"text",class:"modal__input","onUpdate:modelValue":e[1]||(e[1]=l=>a.value.name=l)},null,512),[[o,a.value.name]])]),s("div",z,[e[12]||(e[12]=s("p",{class:"modal__title"},"Last Name",-1)),t(s("input",{type:"text",class:"modal__input","onUpdate:modelValue":e[2]||(e[2]=l=>a.value.secondname=l)},null,512),[[o,a.value.secondname]])]),s("div",A,[e[13]||(e[13]=s("p",{class:"modal__title"},"Email",-1)),t(s("input",{type:"email",class:"modal__input","onUpdate:modelValue":e[3]||(e[3]=l=>a.value.email=l),onBlur:U},null,544),[[o,a.value.email]]),p.value&&a.value.email.length>5?(n(),d("p",F,P(p.value),1)):u("",!0)]),s("div",T,[e[14]||(e[14]=s("p",{class:"modal__title"},"Phone",-1)),t(s("input",{type:"text",class:"modal__input","onUpdate:modelValue":e[4]||(e[4]=l=>a.value.phone=l)},null,512),[[o,a.value.phone]]),b.value===!1&&a.value.phone.length>5?(n(),d("p",W," Wrong number format, please use US-format number ")):u("",!0)]),s("div",L,[e[15]||(e[15]=s("p",{class:"modal__title"},"Address",-1)),t(s("input",{type:"text",class:"modal__street",placeholder:"Street Address","onUpdate:modelValue":e[5]||(e[5]=l=>a.value.address.street=l)},null,512),[[o,a.value.address.street]]),s("div",Z,[t(s("input",{type:"text",class:"modal__city",placeholder:"City","onUpdate:modelValue":e[6]||(e[6]=l=>a.value.address.city=l)},null,512),[[o,a.value.address.city]]),t(s("input",{type:"text",class:"modal__state",placeholder:"State/Province","onUpdate:modelValue":e[7]||(e[7]=l=>a.value.address.state=l)},null,512),[[o,a.value.address.state]]),t(s("input",{type:"number",class:"modal__code",placeholder:"Zip Code","onUpdate:modelValue":e[8]||(e[8]=l=>a.value.address.zipCode=l)},null,512),[[o,a.value.address.zipCode]])])]),s("div",$,[s("button",{class:"modal__btn-cancel",onClick:e[9]||(e[9]=(...l)=>c(i).closeModal&&c(i).closeModal(...l))},"Cancel"),s("button",{class:"modal__btn-save",onClick:x},"Done")])])]))}}),J=D(j,[["__scopeId","data-v-b2e8afad"]]);export{J as E};

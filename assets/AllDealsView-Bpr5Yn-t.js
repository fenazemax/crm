import{c as M,d as L,r as h,u as x,a as H,b as d,e as n,f as s,t,w as I,g as b,F as y,h as E,v as T,i as p,_ as F,j as D,M as w,B as P,k as U,l as A,m as j,n as z,o as R,p as o,q}from"./index-D3FcfwG7.js";import{C as O,a as G}from"./CustomSortDeal-MKzOgG5_.js";import{E as B}from"./EditDealIcon-Bp5hQpbV.js";import{I as N}from"./ImageIcon-DS4V8Zfu.js";import{E as J}from"./EditDealModal-Bq14utiL.js";import"./cloneDeep-DIZNXq_f.js";function Q(S,k,r){return{filteredSortedDeals:M(()=>{let _=[...S];r.value&&r.value!=="all"&&(_=_.filter(m=>m.progress.toLowerCase()===r.value?.toLowerCase()));const c=k.value;return _.sort((m,v)=>{const l=m[c],i=v[c];let u=0;return typeof l=="number"&&typeof i=="number"?u=l-i:l instanceof Date&&i instanceof Date?u=l.getTime()-i.getTime():u=String(l).localeCompare(String(i)),u}),_})}}const W={key:0,class:"deals"},X={class:"deals__head"},Z={class:"deals__count"},K={class:"deals__sort-container"},ee={key:0,class:"deals__list"},se={class:"deals__item"},ae={class:"deals__link"},te={class:"deals__item-image"},le=["src"],oe={class:"deals__name"},de={class:"deals__name area"},ne={class:"deals__name"},_e={class:"deals__name"},ie={class:"deals__name-progress"},re=["onClick"],ce={key:1,class:"deals__list"},me={class:"deals__item"},ue={class:"deals__link"},pe={class:"deals__item-image"},fe=["src"],ve={class:"deals__name"},ge={class:"deals__name area"},he={class:"deals__name"},De={class:"deals__name"},ke={class:"deals__name-progress"},Ce=["onClick"],ye={key:1,class:"deals-no"},Me=L({__name:"AllDealsView",setup(S){const k=[{label:"Date Created",value:"date"},{label:"Status progress",value:"progress"},{label:"Price",value:"price"},{label:"Area",value:"area"}],r=h("date"),f=h("all"),_=h(!1),c=x(),m=H(),v=M(()=>c.deals.length),l=h(null),i=g=>{m.openModal(w.EditModal),l.value=g},u=g=>{c.updateDeal(g),l.value=null,m.closeModal()},{filteredSortedDeals:C}=Q(c.deals,r,f),Y=M(()=>C.value.slice(0,7));return(g,a)=>{const V=U("RouterLink");return o(),d(y,null,[v.value>0?(o(),d("div",W,[s("div",X,[s("p",Z,"Total: "+t(v.value)+" deals",1),s("div",K,[n(O,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),options:k},null,8,["modelValue"]),n(G,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=e=>f.value=e)},null,8,["modelValue"])])]),_.value===!1?(o(),d("ul",ee,[s("li",se,[s("div",ae,[s("div",te,[n(N)]),a[4]||(a[4]=s("p",{class:"deals__head-item name__item"},"Name",-1))]),a[5]||(a[5]=b('<p class="deals__head-item deals__name-area" data-v-f706e9af>Area</p><p class="deals__head-item" data-v-f706e9af>Appointment Date</p><p class="deals__head-item" data-v-f706e9af>Price</p><p class="deals__head-item" data-v-f706e9af>Status</p><p class="deals__head-item" data-v-f706e9af>Edit</p>',5))]),(o(!0),d(y,null,E(Y.value,e=>(o(),d("li",{class:"deals__item",key:e.id},[n(V,{to:`/deal/${e.id}`,class:"deals__link"},{default:D(()=>[s("img",{src:e.image,alt:"",class:"item__image"},null,8,le),s("p",oe,t(e.address.street)+", "+t(e.address.city)+", "+t(e.address.state)+" "+t(e.address.zipCode),1)]),_:2},1032,["to"]),s("p",de,t(e.area)+" m2",1),s("p",ne,t(p(A)(e.date).format("MMM DD, YYYY HH:mm")),1),s("p",_e,t(e.price)+" $",1),s("p",ie,t(e.progress),1),s("button",{class:"deals__btn",onClick:$=>i(e)},[n(B)],8,re)]))),128)),I(s("button",{class:"deals__load",onClick:a[2]||(a[2]=e=>_.value=!_.value)},"Load More",512),[[T,p(C).length>=7]])])):(o(),d("ul",ce,[s("li",me,[s("div",ue,[s("div",pe,[n(N)]),a[6]||(a[6]=s("p",{class:"deals__head-item name__item"},"Name",-1))]),a[7]||(a[7]=b('<p class="deals__head-item deals__name-area" data-v-f706e9af>Area</p><p class="deals__head-item" data-v-f706e9af>Appointment Date</p><p class="deals__head-item" data-v-f706e9af>Price</p><p class="deals__head-item" data-v-f706e9af>Status</p><p class="deals__head-item" data-v-f706e9af>Edit</p>',5))]),(o(!0),d(y,null,E(p(C),e=>(o(),d("li",{class:"deals__item scroll-item",key:e.id},[n(V,{to:`/deal/${e.id}`,class:"deals__link"},{default:D(()=>[s("img",{src:e.image,alt:"",class:"item__image"},null,8,fe),s("p",ve,t(e.address.street)+", "+t(e.address.city)+", "+t(e.address.state)+" "+t(e.address.zipCode),1)]),_:2},1032,["to"]),s("p",ge,t(e.area)+" m2",1),s("p",he,t(p(A)(e.date).format("MMM DD, YYYY HH:mm")),1),s("p",De,t(e.price)+" $",1),s("p",ke,t(e.progress),1),s("button",{class:"deals__btn",onClick:$=>i(e)},[n(B)],8,Ce)]))),128))]))])):(o(),d("div",ye,a[8]||(a[8]=[s("img",{src:F,alt:"no-deals",class:"deals-no__img"},null,-1),s("p",{class:"deals-no__descr"},"No deals found.",-1)]))),n(P,{type:p(w).EditModal},{title:D(()=>a[9]||(a[9]=[R("Edit Deal")])),default:D(()=>[l.value?(o(),j(J,{key:0,deal:l.value,"onUpdate:deal":u,onClose:a[3]||(a[3]=e=>l.value=null)},null,8,["deal"])):z("",!0)]),_:1},8,["type"])],64)}}}),Be=q(Me,[["__scopeId","data-v-f706e9af"]]);export{Be as default};
